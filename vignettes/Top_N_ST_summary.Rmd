---
title: "Top N Sequence Type Counts"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Top N ST Counts}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

# Introduction

This vignette demonstrates how to use the `topN_ST_counts_csv()` function from the **GenepiK** package.  

The function calculates the **top N most frequent Sequence Types (STs)** and saves a CSV file with:

- **ST**: Sequence Type  
- **Number**: Count of isolates with that ST  
- **Percentage**: Proportion relative to the total dataset 

## Usage

# Loading the Package

```{r setup, message=FALSE, warning=FALSE}
library(GenepiK)
```

##load the Data
```{r eval=FALSE, echo=TRUE, message=FALSE}
import_data("~/git_repos/GenepiK/data-raw/rapid_report_dummy_data.csv", "~/git_repos/")
```

## Count the top N STs and their percentages
```{r eval=FALSE, echo=TRUE, message=FALSE}
topN_ST_counts_csv(masterdata, "~/git_repos/GenepiK/test_output/", 10)
```

This should create a csv file with the top N STs in the output folder: `top10_ST_counts.csv`


```{csv}
"ST","Number","Percentage"
"ST307",26,17.33
"ST45",14,9.33
"ST392",8,5.33
"ST512",8,5.33
"ST101",7,4.67
"ST17",7,4.67
"ST219",5,3.33
"ST111",3,2
"ST20",3,2
"ST240",3,2
```


### Summary

`topN_ST_counts_csv()` provides a quick way to:

- **Identify the most prevalent sequence types in your dataset.**
- **Calculate counts and percentages.**
- **Save the results for reporting or further analysis.**

